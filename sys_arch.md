# 用二进制进行权限管理(按位与 按位或 按位异或 运算 )

```java
public class Test {
 
    /**
     * @param args
     */
    public static void main(String[] args) {
 
        /**
         * 四种权限 ，当前定义为int，以下二进制表示只取后四位作说明
         */
 
        // 添加
        int c = 1;// ...0001
        // 查询
        int r = 2;// ...0010
        // 修改
        int u = 4;// ...0100
        // 删除
        int d = 8;// ...1000
 
        /**
         * 
         * 大家可以观察四种权限的二进制表示的规律 ，都是2的N次方，
         * 就表示本身，添加权限有最后一位为其它为0,查询倒数第二位为1其它都为0，修改倒数第三个为1其它都为0，删除倒数第四个为1其它都为0
         * 
         */
 
        /**
         *1111---- 这样表示有哪种权限时可以用 |(按位或) 操作
         * 
         */
 
        // 用户A有添加和修改权限
        int usera = c | r | u;
 
        // 用户B有添加和删除权限
        int userb = c | d;
 
        /**
         * 2222---- 判断用户是否有某种权限用用户权限和要判断的权限进行 &(按位与) 操作，结果为要判断的权限值时表示用户有此权限，否则没有此权限
         */
 
        if ((usera & u) == u) {
            System.out.println("用户a有更新权限");
        } else {
            System.out.println("用户a没有有更新权限");
        }
 
        /**
         * 3333---- 给用户添加权限用用户权限和要添加的权限|(按位或) 操作再覆盖之前权限值
         */
 
        if ((userb & u) == u) {
            System.out.println("用户b有更新权限");
        } else {
            System.out.println("用户b没有更新权限");
        }
 
        // 给用户b添加更新权限
        userb = userb | u;
 
        if ((userb & u) == u) {
            System.out.println("用户b有更新权限");
        } else {
            System.out.println("用户b没有更新权限");
        }
 
        /**
         * 4444---- 取消用户某种权限,用用户权限和要取消的权限按位取反后进行按位 操作，再覆盖之前权限值
         */
         
        if ((usera & r) == r) {
            System.out.println("用户a有查询权限");
        } else {
            System.out.println("用户a没有查询权限");
        }
         
        //取消用户a的查询权限
        usera = usera & (~r);
         
        if ((usera & r) == r) {
            System.out.println("用户a有查询权限");
        } else {
            System.out.println("用户a没有查询权限");
        }
    }
 
}
```

### 按位与 , 按位或 , 按位异或

1. 按位与运算 按位与运算符"&"是双目运算符。其功能是参与运算的两数各对应的二进位相与。只有对应的两个二进位均为1时，结果位才为1 ，否则为0。参与运算的数以补码方式出现。 

例如：9&5可写算式如下： 00001001 (9的二进制补码)&00000101 (5的二进制补码) 00000001 (1的二进制补码)可见9&5=1。 

按位与运算通常用来对某些位清0或保留某些位。例如把a 的高八位清 0 ， 保留低八位， 可作 a&255 运算 ( 255 的二进制数为0000000011111111)。 

应用： 
a. 清零特定位 (mask中特定位置0，其它位为1，s=s&mask) 
b. 取某数中指定位 (mask中特定位置1，其它位为0，s=s&mask) 


2. 按位或运算 按位或运算符“|”是双目运算符。其功能是参与运算的两数各对应的二进位相或。只要对应的二个二进位有一个为1时，结果位就为1。参与运算的两个数均以补码出现。 

例如：9|5可写算式如下： 

00001001|00000101   
00001101 (十进制为13)可见9|5=13   

应用：  
常用来将源操作数某些位置1，其它位不变。 (mask中特定位置1，其它位为0 s=s|mask)
